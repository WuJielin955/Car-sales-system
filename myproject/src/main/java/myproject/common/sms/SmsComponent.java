package myproject.common.sms;import lombok.extern.slf4j.Slf4j;import myproject.common.utils.RedisCache;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.http.*;import org.springframework.stereotype.Component;import org.springframework.web.client.RestTemplate;import javax.annotation.Resource;@Component@Slf4jpublic class SmsComponent {	private static final String URL_TEMPLATE = "https://jmsms.market.alicloudapi.com/sms/send?mobile=%s&templateId=%s&value=%s";	@Autowired	private RestTemplate restTemplate;	@Resource	private RedisCache redisCache;	public void send(String to, String value) {		String templateId = "JM1000372";		String url = String.format(URL_TEMPLATE, to, templateId, value);		HttpHeaders headers = new HttpHeaders();		//最后在header中的格式(中间是英⽂空格)为		headers.set("Authorization", "APPCODE " + "5032c049b2054a0da9caa4540321ee76");		HttpEntity<String> entity = new HttpEntity<>(headers);		ResponseEntity<String> response = restTemplate.exchange(url, HttpMethod.POST, entity, String.class);		log.info("url={},body={}", url, response.getBody());		if (response.getStatusCode() == HttpStatus.OK) {			log.info("发送短信成功,响应信息:{}", response.getBody());		} else {			log.error("发送短信失败,响应信息:{}", response.getBody());		}	}}